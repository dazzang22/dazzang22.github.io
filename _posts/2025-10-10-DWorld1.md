---
layout: single
title: "Get ready for Dazzang2 World"
categories: [Unity]
tags: [Unity]   
toc: true
classes: wide
---

```c#
using System.Collections;
using UnityEngine;
using UnityEngine.Networking;

public class LPPlayer : MonoBehaviour
{
    public AudioSource audioSource;
    public string audioUrl;

    public void PressPlayBtn()
    {
        if (audioSource != null)
        {
            audioSource.Play();
        }
    }

    public void PlaySong()
    {
        StartCoroutine(LoadAndPlay());
    }

    IEnumerator LoadAndPlay()
    {
        using (UnityWebRequest req = UnityWebRequestMultimedia.GetAudioClip(audioUrl, AudioType.MPEG))
        {
            yield return req.SendWebRequest();
            if (req.result == UnityWebRequest.Result.Success)
            {
                audioSource.clip = DownloadHandlerAudioClip.GetContent(req);
                audioSource.Play();
            }
        }
    }
}

```

`UnityEngine.Networking` 를 알아보자   
해당 namespace 는 네트워크 통신 기능을 제공한다고 한다.  
class 종류 중 `UnityWebRequestMultimedia`에 대해 알아보자  
HTTP GET을 통해 오디오 클립을 다운로드하는 UnityWebRequest를 생성하고, 검색된 데이터를 기반으로 AudioClip을 생성합니다.

