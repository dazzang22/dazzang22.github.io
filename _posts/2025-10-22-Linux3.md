---
layout: single
title: "[Linux] Bash Shell 기초2 (Basics of Bash Shell 2)"
date: 2025-10-22
categories: [tech, linux]
tags: [linux, bash, shell, terminal, command]
permalink: /tech/linux/bash-basics2/
author_profile: false
---

## Bash Shell 

### Bash Shell 기초

#### Alias

Alias는 명령어에 대한 사용자 정의 별명이다.  
`$ alias ll='ls -l'`와 같이 입력 시 공백불허 

alias 제거 : `$ unalias ll`

### Shell Script 기초

`$0` : 스크립트 이름

`$1` : 첫번째 명령줄 인수

`$*` : 모든 명령줄 인수

`$#` : 명령줄 인수의 개수

### If 조건문

#### 기본 문법

기본 문법을 간략하게 소개해보겠다.

```bash
if [ smth ]
then 
	smth
elif [ smth ]
then 
	smth
else
	smth
fi	
```

* if 의 대괄호 안 조건식은 앞/뒤로 빈칸이 반드시 있어야 한다.
* `elif`를 쓴다

#### 명령줄 인수 개수 확인해보기

```bash
#!/bin/bash
# wc_arg.sh
# word count script
if [ $# -ne 1 ]
then 
	echo check : $0 needs an argument
	exit 1
fi
fname=$1
wc $fname
```

`$# -ne 1` : 명령줄 인수의 개수가 1개가 아닌경우 (not equal)

#### Keyboard input받기

```bash 
#!/bin/bash
# wc_keyin.sh
echo "File name to count words?"
read fname
wc $fname
```

`read 변수명` 은 프롬프트에서 사용자 입력을 받은 것을 변수에 저장하는 명령어이다.

#### 대소비교 방법

```bash 
#!/bin/bash
if [ $# -ne 1 ]
then 
	echo $0 needs an argument
	exit 1
fi
if [ $1 -gt 100 ]; then 
	echo "Large"
else
	echo "Small"
fi
```

`$a -gt $b` : a > b 인지 확인 

#### Integer Comparsion -> [ ] 문법에서만 쓰임

integer 에 대한 문법이다. String 과 혼동하지 않도록 한다.

-eq : equal  
-ne : not equal   
-gt : greater than   
-ge : greater or equal   
-lt : less than  
-le : less or equal  
-a : 논리곱 AND  
-o : 논리합 OR

공백이 앞/뒤로 필요함을 잊지말자 ~

#### Integer Comparsion -> (( )) 문법

`((조건식))` 문법에서는 공백이 필요하지 않으며,  

```bash
if (("$a" == "$b")) && (("$c" <= "$d"))
```

이런 식으로 기본 수학기호 및 논리곱/합 연산자를 사용할 수 있다.

#### String Comparison -> [ ] 문법

```bash 
if [ "$a" = "$b" ]		#또는 == 도 가능
if [ "$a" != "$b" ]
if [ "$a" \> "$b" ]		# backslash 를 쓴다
if [ "$a" \< "$b" ]
if [ "$a" = "$b" -a "$a" \> "$c" ]		# -a 옵션 : AND
if [ "$a" == "$b" -o "$a" \> "$c" ]		# -o 옵션 : OR
```

크기비교 : 사전에 나오는 순서 ( 사전의 뒤쪽에 나오는 string이 크다 )

#### String Comparison

```bash
if [[ "$a" = "$b" ]]		#또는 == 도 가능
if [[ "$a" != "$b" ]]
if [[ "$a" > "$b" ]]		# backslash 를 쓴다
if [[ "$a" < "$b" ]]
if [[ "$a" == "$b" && "$a" > "$c" ]]		# -a 옵션 : AND
if [[ "$a" = "$b" || "$a" > "$c" ]]		# -o 옵션 : OR
```

* Integer 의 (( )) 와 비슷하지만 공백 필수
* back slash 안씀

#### File Test 

-e file : exist  
-d file : exist && directory   
-f file : exist && file  
-r : exist && read granted  
-w : exist && write granted  
-x : exist && execute granted  
-s : exist && size > 0

### For loop

#### 기본 문법

```bash
for 변수 in 변수값리스트
do
	smth
	.
	.
done
```

#### Range 설정

두가지 방법이 있다.

* 직접 입력
* { }를 이용한 입력

```bash
#!/bin/bash
# for_range.sh

ten = 10
for i in 0 1 2 3 4 5 6 7 8 9
do 
	j=$((i+ten))
	echo "$i + $ten = $j"
done

for i in {0..9}		#0부터 9까지 
do 
	j=$((i+ten))
	echo "$i + $ten = $j"
done
```

#### Sum 예제 - { } 문법

```bash
#!/bin/bash
# for_sum.sh
nmax=10000
read n
if [ $n -gt $nmax ]
then 
 echo 'NO'
 exit 1
fi 
sum=0
for i in {0..$nmax}; do		# 이렇게 쓰면 안됨, {0..10000} 이라 써야함
	if [ $i -le $n ]; then 
		sum=$((sum+i))
	fi
done
```

{} 문법에서는 $변수 확장이 되지 않는다. 그렇기 때문에 (( ))를 권장한다.

#### Sum 예제 - (( )) 문법

```bash 
read n
istart=0

for (( i=$istart; i<=$n; i++ ))
do 
	sum=$((sum+i))
done
echo $sum
```

* double braclet 문법은 기존의 c++ 과 거의 동일하다고 보면 된다

#### Odd/Even Checker

```bash
if (( $((n0 % 2)) == 0 )); then 
	echo even
else
	echo odd
fi
```

Tip : 계산식이면 그냥 무조건 $(( 계산식 )) 에 넣고 보면 됨, 이때 변수명 그냥 써도됨

### Case statement	

#### 기본 문법

```bash
case expression in
value1)
	smth
	;;
value2)
	smth
	;;
esac
```

* 마지막에 esac 를 잊지마!

#### Tri case 실습

```bash
read n0 n1
for (( i = $n0; i <= $n1; i = i + 3 ));do
	sum=$((sum+i))
done
case $(( n0 % 3 )) in
	0)
		echo 1
	1)
		echo 2
	2)
		echo 3
esac
```

### While loop

#### 기본 문법

```bash
while [ 조건식 ]
do 
	smth
done
```

